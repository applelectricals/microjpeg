# Force all traffic to serve the React application
# This prevents any external redirects or caching issues

RewriteEngine On

# Handle client-side routing - send all requests to index.html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]

# Force no-cache for HTML files to prevent mobile caching issues
<FilesMatch "\.(html|htm)$">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "0"
</FilesMatch>

# Prevent access to WordPress files if they exist
<FilesMatch "(wp-config\.php|wp-admin|wp-includes|wp-content)">
    Order allow,deny
    Deny from all
</FilesMatch>